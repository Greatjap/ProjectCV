<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Project - Assistente de Voz</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/themes/df-messenger-default.css">
    <script src="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/df-messenger.js"></script>

    <style>
        body {
            font-family: 'Google Sans', sans-serif;
            margin: 0;
            background-color: #f8f9fa;
        }

        main {
            padding: 40px;
            max-width: 800px;
            margin: 0 auto;
        }

        h1 { color: #1a73e8; }

        /* Estilização do Messenger V2 */
        df-messenger {
            z-index: 999;
            position: fixed;
            bottom: 24px;
            right: 24px;
            
            /* Customização de Cores */
            --df-messenger-chat-background: #f3f6fc;
            --df-messenger-font-family: 'Google Sans', sans-serif;
        }
    </style>
</head>
<body>

    <main>
        <header><strong>CV Project</strong></header>
        <section>
            <h1>Painel com Suporte a Voz</h1>
            <p>Clique no balão azul e utilize o <strong>ícone de microfone</strong> para falar.</p>
        </section>
    </main>

    <df-messenger
      location="us-east1"
      project-id="cv-project-483216"
      agent-id="a19ba7a3-3a8a-496a-839b-d8ce61c5fd73"
      language-code="pt-br">
      <df-messenger-chat-bubble
        chat-title="Assistente Virtual"
        allow-mic="true"> </df-messenger-chat-bubble>
    </df-messenger>

    <script>
      // Script para forçar a fala (opcional, caso o bot não fale sozinho)
      const dfMessenger = document.querySelector('df-messenger');
      dfMessenger.addEventListener('df-response-received', (event) => {
        const message = event.detail.response.queryResult.fulfillmentText;
        if (message) {
          const synth = window.speechSynthesis;
          const utterance = new SpeechSynthesisUtterance(message);
          utterance.lang = 'pt-BR';
          synth.speak(utterance);
        }
      });
    </script>

</body>
</html>
